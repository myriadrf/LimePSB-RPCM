*****
LimePSB RPCM v1.2 Board
*****

Introduction
============

LimePSB RPCM v1.2 Board Key Features
-------------------------------

The LimePSB RPCM is carrier board for Raspberry Pi Compute Module 4 or 5 (CM4 or CM5) and mPCIe card (by default LimeSDR XTRX board). LimePSB RPCM carrier board provides a hardware platform for developing and prototyping high-performance designs based on Raspberry Pi CM4 or CM5, RF front end, clock network and mPCIe card. It allows user to use the board in SDR, LoRa and other applications.

.. figure:: images/LimePSB-RPCM_v1.2_3D_top.png
  :width: 600
  
  Figure 1. LimePSB-RPCM v1.2 board top view

.. figure:: images/LimePSB-RPCM_v1.2_3D_bot.png
  :width: 600
  
  Figure 2. LimePSB-RPCM v1.2 board bottom view

LimePSB RPCM board features:

* Connectors:

  * Raspberry CM4 and CM5 connector (dual row)
  * USB 2.0 Type-C socket (USB boot and power delivery)
  * Dual USB 3.0 (type A) socket (downstream ports) or Front Panel USB 2.0 header (unpopulated)
  * Ethernet jack (Gigabit Ethernet with PoE)
  * mini PCIe x1 Gen 2 (5Gbps)
  * 2x HDMI 2.0 receptacle (up to 4Kp60 supported)
  * 2x 15-pin FPC connectors for MIPI DSI display and CSI camera
  * 3.5 mm 4-pin jack for analog audio and composite video
  * uSD card socket
  * Nano-SIM socket
  * Coaxial RF (4x SMA female + 4x U.FL female) connectors for RF front end
  * Coaxial pass-through U.FL to external SMA connector
  * 20-pin Raspberry CM4 GPIO header (3.3V)
  * 14-pin Raspberry CM4 SYS header
  * 5-pin front display connector (power, I2C, button)
  * Raspberry CM4 UART0 header (unpopulated)
  * 2-pin and 4-pin FAN connector (5V default or 3.3V or VCC_INT voltage)

* RF front end:

  * Configuration: MIMO (2x TRX, 2x RX)
  * LNAs, PAs, RF switches, power and mode control (TDD and FDD)

* Miscellaneous:

  * Board temperature sensor
  * FAN controller
  * EEPROM
  * Secure key storage, shift registers
  * RTC, ADC
  * USB 2.0 hub
  * Configuration dip switch

* General user inputs/outputs:

  * 4x general purpose Dual colour (RG) LEDs 
  * 20 pin CM4/5 GPIO header (3.3V)
  * Front button
  * Buzzer

* Clock system:

  * 30.72MHz (default) on board VCOCXO and 30.72/38.4/40.00MHz (optional) VCTCXOs
  * Possibility to tune on board XO by on-board DAC or by phase detector to match a reference clock input (e.g. 10MHz).
  * Reference clock/PPS input and output SMA connectors (EXT_SYNC_IN and EXT_SYNC_OUT)
  * Possibility to synchronize multiple boards using coaxial SMA connectors  (EXT_SYNC_IN and EXT_SYNC_OUT)

* Board size: 170mm x 110mm

* Board power sources:

  * Barrel (9-14V, 2-3A)
  * USB Power Delivery (12V 1.5A or 2.5A)
  * PoE (12V, 2A)

For more information on the following topics, refer to the folowing documents:

* `Raspberry Pi CM4  <http://datasheets.raspberrypi.com/cm4/cm4-datasheet.pdf>`_
* `Raspberry Pi CM5  <https://pip.raspberrypi.com/categories/944-raspberry-pi-compute-module-5>`_
* `LimeSDR XTRX  <https://limesdr-xtrx.myriadrf.org/>`_

Board Overview
-------------- 

The heart of the LimePSB-RPCM carrier board is Raspberry PI Compute Module 4 or Compute Module 5 which may be used to transfer digital data between the CM4/5 and mPCIe board while performing data processing. The block diagram for LimePSB-RPCM board is as shown in Figure 3.

.. figure:: images/LimePSB-RPCM_v1.2_diagrams_block.png
  :width: 600
  
  Figure 3. LimePSB-RPCM v1.2 carrier Board Block Diagram

LimePSB-RPCM board picture with highlighted connectors and main components are presented in Figure 4 and Figure 5. 

.. figure:: images/LimePSB-RPCM_v1.2_top_components.png
  :width: 600
  
  Figure 4. LimePSB-RPCM v1.2 board top connectors and main components

.. _target1:

.. figure:: images/LimePSB-RPCM_v1.2_bot_components.png
  :width: 600
  
  Figure 5. LimePSB-RPCM v1.2 board bottom connectors and main components

Board components are described in the Table 1.

.. table:: Table 1. Board components

+--------------------------------------------------------------------------------------------------------------------------------------------+
| **Miscellaneous devices**                                                                                                                  |
+=================================+============================+=============================================================================+
| IC9                             | IC                         | I²C temperature   sensor LM75                                               |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC10/IC11                       | IC                         | I²C   EEPROM Memory 128Kb (16K x 8), connected to RF transceiver I2C bus    |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC13/IC14                       | IC                         | I²C   secure key storage                                                    |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC16/IC18                       | IC                         | I²C   Real time clock                                                       |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC8                             | IC                         | 8   channel 12 bit ADC                                                      |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC15,   IC17                    | IC                         | 8 bit   shift register                                                      |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC20                            | IC                         | USB2.0 HUB                                                                  |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC21, IC26, IC27, IC29, IC30    | IC                         | USB   switch                                                                |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J24, J23                        | Pin   header               | 2-pin   and 4-pin FAN connector (5V default or 3.3V or VCC_INT voltage)     |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| **Configuration, Status, Setup Elements and GPIOs**                                                                                        |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| LED1,   LED2, LED3, LED4        | Red-green   status LEDs    | User   defined indication LED                                               |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| LED5                            | Red-green   status LEDs    | Raspberry CM4/5 status                                                      |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| LED6                            | Green   status LED         | Power   indication LED                                                      |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| BZ1                             | Buzzer                     | User   defined                                                              |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J12                             | Header                     | 14-pin Raspberry CM4 SYS header                                             |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J5                              | Header                     | Power   control and PG status                                               |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J6                              | Header                     | Wireless   LAN and Bluetooth control                                        |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J10                             | Header                     | 20-pin   CM4 GPIO header                                                    |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| SW1                             | DIP   switch               | Boot and   USB configuration                                                |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| RF front end                                                                                                                               |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC39, IC40                      | IC                         | PA TQP3M9018                                                                |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC43, IC44                      | IC                         | LNA   SPF5043Z                                                              |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC37, IC38, IC41, IC42          | IC                         | RF   switch SKY13286                                                        |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| **Communication Ports**                                                                                                                    |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J1, J2                          | Connector                  | Raspberry   Pi CM4(L)/5 connectors                                          |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J11                             | Header                     | Raspberry   CM4 UART0 header (unpopulated)                                  |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J8                              | Header                     | 5-pin   front screen connector (power, I2C, button)                         |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J25                             | USB                        | USB 2.0   (Type-C) socket                                                   |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J29                             | USB                        | Dual   USB 3.0 (Type-A) socket                                              |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J9                              | Ethernet                   | Gigabit   RJ45 (Ethernet with magnetics) port                               |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J30, J31                        | HDMI                       | HDMI 2.0   socket                                                           |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J15, J16                        | LVDS                       | FPC   15-pin for display and camera                                         |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J14,   J17                      | Audio/Video                | 3.5 mm   jack, Header (unpopulated)                                         |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J7                              | SDIO                       | Micro   SD card holder                                                      |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J4                              | Nano-SIM                   | Nano-SIM   card holder                                                      |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J3                              | Mini   PCIe                | Mini   PCIe x1 expansion slot                                               |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| **Clock Circuitry**                                                                                                                        |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| XO1                             | VCOCXO                     | 30.72   MHz VCOCXO                                                          |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| XO2                             | VCTCXO                     | 30.72   MHz VCTCXO                                                          |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| XO3                             | VCTCXO                     | 30.72   MHz VCTCXO                                                          |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| XO4                             | VCTCXO                     | 40.00   MHz VCTCXO                                                          |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| XO5                             | VCTCXO                     | 38.40   MHz VCTCXO                                                          |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC33   (IC36)                   | IC                         | 16 (8) bit DAC for XOs VC tuning                                            |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC35                            | IC                         | RPi sync mux                                                                |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC31                            | IC                         | Clock   buffer                                                              |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC34                            | IC                         | Phase   detector                                                            |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J32                             | SMA   connector            | Reference   clock input EXT_SYNC_IN                                         |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J35                             | SMA   connector            | Reference   clock output EXT_SYNC_OUT                                       |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J33                             | U.FL   connector           | Reference   clock output                                                    |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| J22/J20,   J21                  | Multiple                   | Internal   connector J20/J22 to external SMA J21                            |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| **Power Supply**                                                                                                                           |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC52                            | IC                         | Switching   regulator ADP2386 (3.3V rail)                                   |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC53                            | IC                         | Switching   regulator ADP2386 (5.0V rail)                                   |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC54                            | IC                         | Linear   regulator AP7361-FGE (3.3V rail)                                   |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC56                            | IC                         | Linear   regulator AP7361-FGE (1.5V rail)                                   |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+
| IC55                            | IC                         | Voltage   reference AS431ANTR-G1 (2.5V rail)                                |
+---------------------------------+----------------------------+-----------------------------------------------------------------------------+

LimePSB-RPCM Board Architecture
===============================

This chapter is dedicated for detailed description of LimePSB-RPCM board components and interconnections.

Raspberry CM4/5 Connector
-------------------------

LimePSB-RPCM board is designed to use Raspberry Pi CM4/5 as a host computer. Raspberry Pi CM4/5L version without eMMC Flash memory is also supported. Board to board connectors (J1 and J2) are used to connect CM4/5 to the LimePSB-RPCM board. Connector pinout, CM4 signals and schematic signal names are listed and described in Table 2.

.. table:: Table 2. Raspberry Pi Compute Module 4 connector pinout

+--------------+-------------------+---------------------------+----------------------------------------+
| **CM4 Pin**  | **CM4 reference** | **Schematic signal name** | **Description[1]**                     |
+==============+===================+===========================+========================================+
| 1            | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 2            | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 3            | Ethernet_Pair3_P  | ETH_TRD3_P                | Ethernet pair 3 positive               |
+--------------+-------------------+---------------------------+----------------------------------------+
| 4            | Ethernet_Pair1_P  | ETH_TRD1_P                | Ethernet pair 1 positive               |
+--------------+-------------------+---------------------------+----------------------------------------+
| 5            | Ethernet_Pair3_N  | ETH_TRD3_N                | Ethernet pair 3 negative               |
+--------------+-------------------+---------------------------+----------------------------------------+
| 6            | Ethernet_Pair1_N  | ETH_TRD1_N                | Ethernet pair 1 negative               |
+--------------+-------------------+---------------------------+----------------------------------------+
| 7            | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 8            | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 9            | Ethernet_Pair2_N  | ETH_TRD2_N                | Ethernet pair 2 negative               |
+--------------+-------------------+---------------------------+----------------------------------------+
| 10           | Ethernet_Pair0_N  | ETH_TRD0_N                | Ethernet pair 0 negative               |
+--------------+-------------------+---------------------------+----------------------------------------+
| 11           | Ethernet_Pair2_P  | ETH_TRD2_P                | Ethernet pair 2 positive               |
+--------------+-------------------+---------------------------+----------------------------------------+
| 12           | Ethernet_Pair0_P  | ETH_TRD0_P                | Ethernet pair 0 positive               |
+--------------+-------------------+---------------------------+----------------------------------------+
| 13           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 14           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 15           | Ethernet_nLED3    | ETH_LED_Y                 | Ethernet activity indicator            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 16           | Ethernet_SYNC_IN  | RPI_PIN16                 | IEEE1588 SYNC Input                    |
+--------------+-------------------+---------------------------+----------------------------------------+
| 17           | Ethernet_nLED2    | ETH_LED_G                 | Ethernet speed indicator               |
+--------------+-------------------+---------------------------+----------------------------------------+
| 18           | Ethernet_SYNC_OUT | RPI_PIN18                 | IEEE1588 SYNC Output                   |
+--------------+-------------------+---------------------------+----------------------------------------+
| 19           | Ethernet_nLED1    | NC                        | Ethernet speed indicator               |
+--------------+-------------------+---------------------------+----------------------------------------+
| 20           | EEPROM_nWP        | RPI_EEPROM_nWP            | EEPROM write protect                   |
+--------------+-------------------+---------------------------+----------------------------------------+
| 21           | Pi_nLED_Activity  | RPI_STATUS_LED_R          | Pi activity LED                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 22           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 23           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 24           | GPIO26            | PCIE_LED_WPAN             | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 25           | GPIO21            | RPI_SPI1_SCLK             | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 26           | GPIO19            | RPI_SPI1_MISO             | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 27           | GPIO20            | RPI_SPI1_MOSI             | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 28           | GPIO13            | RPI_PWM1                  | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 29           | GPIO16            | PCIE_LED_WWAN             | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 30           | GPIO6             | RPI_RF_SW_TDD             | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 31           | GPIO12            | RPI_PWM0                  | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 32           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 33           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 34           | GPIO5             | BUZZER                    | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 35           | ID_SC             | RPI_ID_SC                 | BCM2711 GPIO 1                         |
+--------------+-------------------+---------------------------+----------------------------------------+
| 36           | ID_SD             | RPI_ID_SD                 | BCM2711 GPIO 0                         |
+--------------+-------------------+---------------------------+----------------------------------------+
| 37           | GPIO7             | RPI_SPI0_SS1              | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 38           | GPIO11            | RPI_SPI0_SCLK             | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 39           | GPIO8             | RPI_SPI0_SS0              | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 40           | GPIO9             | RPI_SPI0_MISO             | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 41           | GPIO25            | PCIE_LED_WLAN             | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 42           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 43           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 44           | GPIO10            | RPI_SPI0_MOSI             | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 45           | GPIO24            | RPI_BTN1                  | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 46           | GPIO22            | RPI_GPIO22                | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 47           | GPIO23            | RPI_BTN2                  | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 48           | GPIO27            | RPI_GPIO27                | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 49           | GPIO18            | RPI_SPI1_SS0              | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 50           | GPIO17            | RPI_SPI1_SS1              | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 51           | GPIO15            | RPI_UART0_RX              | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 52           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 53           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 54           | GPIO4             | RPI_GPIO4                 | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 55           | GPIO14            | RPI_UART0_TX              | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 56           | GPIO3             | ADF_MUXOUT                | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 57           | SD_CLK            | RPI_SD_CLK                | SD card clock signal                   |
+--------------+-------------------+---------------------------+----------------------------------------+
| 58           | GPIO2             | RPI_GPIO2                 | General purpose                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 59           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 60           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 61           | SD_DAT3           | RPI_SD_D3                 | SD card/eMMC Data3 signal              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 62           | SD_CMD            | RPI_SD_CMD                | SD card/eMMC Command signal            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 63           | SD_DAT0           | RPI_SD_D0                 | SD card/eMMC Data0 signal              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 64           | SD_DAT5           | NC                        | SD card/eMMC Data5 signal              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 65           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 66           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 67           | SD_DAT1           | RPI_SD_D1                 | SD card/eMMC Data1 signal              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 68           | SD_DAT4           | NC                        | SD card/eMMC Data4 signal              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 69           | SD_DAT2           | RPI_SD_D2                 | SD card/eMMC Data2 signal              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 70           | SD_DAT7           | NC                        | SD card/eMMC Data7 signal              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 71           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 72           | SD_DAT6           | NC                        | SD card/eMMC Data6 signal              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 73           | SD_VDD_Override   | NC                        | Force SD card/eMMC interface           |
+--------------+-------------------+---------------------------+----------------------------------------+
| 74           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 75           | SD_PWR_ON         | RPI_SD_PWR_ON             | Output to power-switch for the SD card |
+--------------+-------------------+---------------------------+----------------------------------------+
| 76           | Reserved          | RPI_VBAT                  | Do not connect                         |
+--------------+-------------------+---------------------------+----------------------------------------+
| 77           | +5V (Input)       | VCC5P0                    | 4.75V-5.25V. Main power input          |
+--------------+-------------------+---------------------------+----------------------------------------+
| 78           | GPIO_VREF         | VCC3P3                    | GPIO reference voltage                 |
+--------------+-------------------+---------------------------+----------------------------------------+
| 79           | +5V (Input)       | VCC5P0                    | 4.75V-5.25V. Main power input          |
+--------------+-------------------+---------------------------+----------------------------------------+
| 80           | SCL0              | RPI_I2C0_SCL              | I2C clock pin                          |
+--------------+-------------------+---------------------------+----------------------------------------+
| 81           | +5V (Input)       | VCC5P0                    | 4.75V-5.25V. Main power input          |
+--------------+-------------------+---------------------------+----------------------------------------+
| 82           | SDA0              | RPI_I2C0_SDA              | I2C Data pin                           |
+--------------+-------------------+---------------------------+----------------------------------------+
| 83           | +5V (Input)       | VCC5P0                    | 4.75V-5.25V. Main power input          |
+--------------+-------------------+---------------------------+----------------------------------------+
| 84           | CM4_3.3V (Output) | VCC3P3_RPI                | 3.3V ± 2.5%. Power Output              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 85           | +5V (Input)       | VCC5P0                    | 4.75V-5.25V. Main power input          |
+--------------+-------------------+---------------------------+----------------------------------------+
| 86           | CM4_3.3V (Output) | VCC3P3_RPI                | 3.3V ± 2.5%. Power Output              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 87           | +5V (Input)       | VCC5P0                    | 4.75V-5.25V. Main power input          |
+--------------+-------------------+---------------------------+----------------------------------------+
| 88           | CM4_1.8V (Output) | VCC1P8_RPI                | 1.8V ± 2.5%. Power Output              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 89           | WL_nDisable       | RPI_WL_nDISABLE           | Wireless interface disable             |
+--------------+-------------------+---------------------------+----------------------------------------+
| 90           | CM4_1.8V (Output) | VCC1P8_RPI                | 1.8V ± 2.5%. Power Output              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 91           | BT_nDisable       | RPI_BT_nDISABLE           | Bluetooth interface disable            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 92           | RUN_PG            | RPI_RUN_PG                | CM4 CPU reset/power good               |
+--------------+-------------------+---------------------------+----------------------------------------+
| 93           | nRPIBOOT          | RPI_nRPIBOOT              | booting from an RPI server             |
+--------------+-------------------+---------------------------+----------------------------------------+
| 94           | AnalogIP1         | RPI_AIP1                  | Analogue input                         |
+--------------+-------------------+---------------------------+----------------------------------------+
| 95           | PI_LED_nPWR       | RPI_LED_nPWR              | Power On LED                           |
+--------------+-------------------+---------------------------+----------------------------------------+
| 96           | AnalogIP0         | RPI_AIP0                  | Analogue input                         |
+--------------+-------------------+---------------------------+----------------------------------------+
| 97           | Camera_GPIO       | CAM1_GPIO0                | Used to shut down the camera           |
+--------------+-------------------+---------------------------+----------------------------------------+
| 98           | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 99           | GLOBAL_EN         | RPI_GLOBAL_EN             | CM4 enable                             |
+--------------+-------------------+---------------------------+----------------------------------------+
| 100          | nEXTRST           | RPI_nEXTRST               | Output. Driven low during reset        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 101          | USB_OTG_ID        | RPI_USB_OTG_ID            | USB OTG Pin                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 102          | PCIe_CLK_nREQ     | RPI_PCIE_CLK_nREQ         | PCIe clock request                     |
+--------------+-------------------+---------------------------+----------------------------------------+
| 103          | USB_N             | RPI_USB_D_N               | USB D-                                 |
+--------------+-------------------+---------------------------+----------------------------------------+
| 104          | Reserved          | NC                        | Do not connect                         |
+--------------+-------------------+---------------------------+----------------------------------------+
| 105          | USB_P             | RPI_USB_D_P               | USB D+                                 |
+--------------+-------------------+---------------------------+----------------------------------------+
| 106          | Reserved          | RPI_PCIE_DET_nWAKE        | Do not connect                         |
+--------------+-------------------+---------------------------+----------------------------------------+
| 107          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 108          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 109          | PCIe_nRST         | RPI_PCIE_nRST             | PCIe reset                             |
+--------------+-------------------+---------------------------+----------------------------------------+
| 110          | PCIe_CLK_P        | RPI_PCIE_CLK_P            | PCIe clock Out positive                |
+--------------+-------------------+---------------------------+----------------------------------------+
| 111          | VDAC_COMP         | RPI_PIN11                 | Video DAC output                       |
+--------------+-------------------+---------------------------+----------------------------------------+
| 112          | PCIe_CLK_N        | RPI_PCIE_CLK_N            | PCIe clock Out negative                |
+--------------+-------------------+---------------------------+----------------------------------------+
| 113          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 114          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 115          | CAM1_D0_N         | CAM1_D0_N                 | Input Camera1 D0 negative              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 116          | PCIe_RX_P         | RPI_PCIE_RX_P             | Input PCIe GEN 2 RX positive           |
+--------------+-------------------+---------------------------+----------------------------------------+
| 117          | CAM1_D0_P         | CAM1_D0_P                 | Input Camera1 D0 positive              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 118          | PCIe_RX_N         | RPI_PCIE_RX_N             | Input PCIe GEN 2 RX negative           |
+--------------+-------------------+---------------------------+----------------------------------------+
| 119          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 120          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 121          | CAM1_D1_N         | CAM1_D1_N                 | Input Camera1 D1 negative              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 122          | PCIe_TX_P         | RPI_PCIE_TX_P             | Output PCIe GEN 2 TX positive          |
+--------------+-------------------+---------------------------+----------------------------------------+
| 123          | CAM1_D1_P         | CAM1_D1_P                 | Input Camera1 D1 positive              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 124          | PCIe_TX_N         | RPI_PCIE_TX_N             | Output PCIe GEN 2 TX positive          |
+--------------+-------------------+---------------------------+----------------------------------------+
| 125          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 126          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 127          | CAM1_C_N          | CAM1_CLK_N                | Input Camera1 clock negative           |
+--------------+-------------------+---------------------------+----------------------------------------+
| 128          | CAM0_D0_N         | RPI_USB3_RX0_N            | Input Camera0 D0 negative              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 129          | CAM1_C_P          | CAM1_CLK_P                | Input Camera1 clock positive           |
+--------------+-------------------+---------------------------+----------------------------------------+
| 130          | CAM0_D0_P         | RPI_USB3_RX0_P            | Input Camera0 D0 positive              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 131          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 132          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 133          | CAM1_D2_N         | NC                        | Input Camera1 D2 negative              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 134          | CAM0_D1_N         | RPI_USB3_D0_P             | Input Camera0 D1 negative              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 135          | CAM1_D2_P         | NC                        | Input Camera1 D2 positive              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 136          | CAM0_D1_P         | RPI_USB3_D0_N             | Input Camera0 D1 positive              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 137          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 138          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 139          | CAM1_D3_N         | NC                        | Input Camera1 D3 negative              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 140          | CAM0_C_N          | RPI_USB3_TX0_N            | Input Camera0 clock negative           |
+--------------+-------------------+---------------------------+----------------------------------------+
| 141          | CAM1_D3_P         | NC                        | Input Camera1 D3 positive              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 142          | CAM0_C_P          | RPI_USB3_TX0_P            | Input Camera0 clock positive           |
+--------------+-------------------+---------------------------+----------------------------------------+
| 143          | HDMI1_HOTPLUG     | HDMI1_HOTPLUG             | Input HDMI1 hotplug                    |
+--------------+-------------------+---------------------------+----------------------------------------+
| 144          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 145          | HDMI1_SDA         | HDMI1_SDA                 | A Bidirectional HDMI1 SDA              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 146          | HDMI1_TX2_P       | HDMI1_D2_P                | Output HDMI1 TX2 positive              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 147          | HDMI1_SCL         | HDMI1_SCL                 | Bidirectional HDMI1 SCL                |
+--------------+-------------------+---------------------------+----------------------------------------+
| 148          | HDMI1_TX2_N       | HDMI1_D2_N                | Output HDMI1 TX2 negative              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 149          | HDMI1_CEC         | HDMI1_CEC                 | Input HDMI1 CEC                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 150          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 151          | HDMI0_CEC         | HDMI0_CEC                 | Input HDMI0 CEC                        |
+--------------+-------------------+---------------------------+----------------------------------------+
| 152          | HDMI1_TX1_P       | HDMI1_D1_P                | Output HDMI1 TX1 positive              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 153          | HDMI0_HOTPLUG     | HDMI0_HPD                 | Input HDMI0 hotplug                    |
+--------------+-------------------+---------------------------+----------------------------------------+
| 154          | HDMI1_TX1_N       | HDMI1_D1_N                | Output HDMI1 TX1 negative              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 155          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 156          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 157          | DSI0_D0_N         | RPI_USB3_RX1_N            | Output Display0 D0 negative            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 158          | HDMI1_TX0_P       | HDMI1_D0_P                | Output HDMI1 TX0 positive              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 159          | DSI0_D0_P         | RPI_USB3_RX1_P            | Output Display0 D0 positive            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 160          | HDMI1_TX0_N       | HDMI1_D0_N                | Output HDMI1 TX0 negative              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 161          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 162          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 163          | DSI0_D1_N         | RPI_USB3_D1_P             | Output Display0 D1 negative            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 164          | HDMI1_CLK_P       | HDMI1_CLK_P               | Output HDMI1 clock positive            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 165          | DSI0_D1_P         | RPI_USB3_D1_N             | Output Display0 D1 positive            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 166          | HDMI1_CLK_N       | HDMI1_CLK_N               | Output HDMI1 clock negative            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 167          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 168          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 169          | DSI0_C_N          | RPI_USB3_TX1_N            | Output Display0 clock negative         |
+--------------+-------------------+---------------------------+----------------------------------------+
| 170          | HDMI0_TX2_P       | HDMI0_D2_P                | Output HDMI0 TX2 positive              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 171          | DSI0_C_P          | RPI_USB3_TX1_P            | Output Display0 clock positive         |
+--------------+-------------------+---------------------------+----------------------------------------+
| 172          | HDMI0_TX2_N       | HDMI0_D2_N                | Output HDMI0 TX2 negative              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 173          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 174          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 175          | DSI1_D0_N         | DSI1_D0_N                 | Output Display1 D0 negative            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 176          | HDMI0_TX1_P       | HDMI0_D1_P                | Output HDMI0 TX1 positive              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 177          | DSI1_D0_P         | DSI1_D0_P                 | Output Display1 D0 positive            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 178          | HDMI0_TX1_N       | HDMI0_D1_N                | Output HDMI0 TX1 negative              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 179          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 180          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 181          | DSI1_D1_N         | DSI1_D1_N                 | Output Display1 D1 negative            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 182          | HDMI0_TX0_P       | HDMI0_D0_P                | Output HDMI0 TX0 positive              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 183          | DSI1_D1_P         | DSI1_D1_P                 | Output Display1 D1 positive            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 184          | HDMI0_TX0_N       | HDMI0_D0_N                | Output HDMI0 TX0 negative              |
+--------------+-------------------+---------------------------+----------------------------------------+
| 185          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 186          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 187          | DSI1_C_N          | DSI1_CLK_N                | Output Display1 clock negative         |
+--------------+-------------------+---------------------------+----------------------------------------+
| 188          | HDMI0_CLK_P       | HDMI0_CLK_P               | Output HDMI0 clock positive            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 189          | DSI1_C_P          | DSI1_CLK_P                | Output Display1 clock positive         |
+--------------+-------------------+---------------------------+----------------------------------------+
| 190          | HDMI0_CLK_N       | HDMI0_CLK_N               | Output HDMI0 clock negative            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 191          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 192          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 193          | DSI1_D2_N         | NC                        | Output Display1 D2 negative            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 194          | DSI1_D3_N         | NC                        | Output Display1 D3 negative            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 195          | DSI1_D2_P         | NC                        | Output Display1 D2 positive            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 196          | DSI1_D3_P         | NC                        | Output Display1 D3 positive            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 197          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 198          | GND               | GND                       | Ground (0V)                            |
+--------------+-------------------+---------------------------+----------------------------------------+
| 199          | HDMI0_SDA         | HDMI0_SDA                 | Bidirectional HDMI0 SDA                |
+--------------+-------------------+---------------------------+----------------------------------------+
| 200          | HDMI0_SCL         | HDMI0_SCL                 | Bidirectional HDMI0 SCL                |
+--------------+-------------------+---------------------------+----------------------------------------+

Raspberry Pi CM4/5 Configuration
--------------------------------------

LimePSB-RPCM board has several headers and a DIP switch dedicated for Raspberry Pi CM4/5 configuration, debug, analog inputs or other purposes. SYS Header (J12) pins, schematic signal names and description are given in Table 3.

.. table:: Table 3. SYS header (J12) pinout
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Pin** | **Schematic signal name** | **Description [1]**                                                                                                                                                                                         |
+=========+===========================+=============================================================================================================================================================================================================+
| 1       | GND                       | Ground (0V)                                                                                                                                                                                                 |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 2       | RPI_nRPIBOOT              | A low on this pin forces CM4/5 booting.                                                                                                                                                                     |
|         |                           | To enable Raspberry Pi USB boot also place nRPIBOOT jumper on J12 pins 1-2.                                                                                                                                 |
|         |                           | Place jumper on header J26 to switch Raspberry Pi USB from USB hub to USB C connector.                                                                                                                      |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 3       | GND                       | Ground (0V)                                                                                                                                                                                                 |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 4       | RPI_EEPROM_nWP            | CM4/5 on-board EEPROM write protect                                                                                                                                                                         |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 5       | RPI_AIP0                  | Analogue input (CM4)                                                                                                                                                                                        |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 6       | RPI_AIP1                  | Analogue input (CM4)                                                                                                                                                                                        |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 7       | GND                       | Ground (0V)                                                                                                                                                                                                 |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 8       | RPI_SYNC_IN               | IEEE1588 SYNC Input (CM4)                                                                                                                                                                                   |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 9       | RPI_SYNC_OUT              | IEEE1588 SYNC Output                                                                                                                                                                                        |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 10      | RPI_RUN_PG                | RUN_PG pin when high signals that the CM4 has started. Driving this pin low resets the module.                                                                                                              |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 11      | RPI_PIN11                 | Video DAC output (CM4)                                                                                                                                                                                      |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 12      | GND                       | Ground (0V)                                                                                                                                                                                                 |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 13      | RPI_RUN_PG_BUFF           | Buffered (5V output) RPI_RUN_PG line. High signal indicates CM4 CPU is running.                                                                                                                             |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 14      | RPI_GLOBAL_EN             | Drive low to power off CM4. A button between pins 13-14 can be used to wake up compute module from power down.                                                                                              |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Description of power control header J5 (not fitted) for Raspberry Pi CM4/5 pinout is given in Table 4.

.. table:: Table 4 Raspberry Pi CM4/5 power control (J5) header

+---------+---------------------------+----------------------------------------------------------------------+
| **Pin** | **Schematic signal name** | **Description [1]**                                                  |
+=========+===========================+======================================================================+
| 1       | RPI_GLOBAL_EN             | Drive low to power off CM4.                                          |
+---------+---------------------------+----------------------------------------------------------------------+
| 2       | GND                       | Ground (0V)                                                          |
+---------+---------------------------+----------------------------------------------------------------------+
| 3       | RPI_RUN_PG                | Drive low to reset CM4 CPU/high signal indicates CM4 CPU is running. |
+---------+---------------------------+----------------------------------------------------------------------+

Raspberry Pi Compute Module 4/5 on board WiFi and Bluetooth disable signals may be controlled from header J6 (not fitted) as shown in Table 5.

.. table:: Table 5 Raspberry Pi CM4/5 J6 WiFi and Bluetooth control header pinout

+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Pin** | **Schematic signal name** | **Description [1]**                                                                                                                                                                                                                                                                                                                 |
+=========+===========================+=====================================================================================================================================================================================================================================================================================================================================+
| 1       | RPI_WL_nDISABLE           | This pin serves a number of functions:                                                                                                                                                                                                                                                                                              |
|         |                           | It can be used to monitor the enable/disable state of wireless networking. A logic high means the wireless networking module is powered up.                                                                                                                                                                                         |
|         |                           | When driven or tied low it prevents the wireless network module from powering up. This is useful to reduce power consumption or in applications where it is required to physically ensure the wireless networking is disabled. If the interface is enabled after being disabled, the wireless interface driver needs reinitialised. |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 2       | GND                       | Ground (0V)                                                                                                                                                                                                                                                                                                                         |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 3       | RPI_BT_nDISABLE           | This pin serves a number of functions:                                                                                                                                                                                                                                                                                              |
|         |                           | It can be used to monitor the enable/disable state of Bluetooth. A logic high means the Bluetooth module is powered up.                                                                                                                                                                                                             |
|         |                           | When driven, or tied low, it prevents the Bluetooth module from powering up. This is useful to reduce power consumption, or in applications where it is required to physically ensure the Bluetooth is disabled. If the interface is enabled after being disabled, the Bluetooth interface driver needs reinitialised.              |
+---------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

DIP Switch configuration
------------------------

Some configuration can be done by switching SW1 DIP switch bits. Detailed switch bit descriptions is given in Table 6.

.. table:: Table 6 DIP switch configuration bits

+---------+---------------------------+-----------------------------------------------------------------------------------------------------+
| **Bit** | **Schematic signal name** | **Description**                                                                                     |
+=========+===========================+=====================================================================================================+
| 1       | RPI_nRPIBOOT              | RPi boot source:                                                                                    |
|         |                           | OFF: RPI boots from eMMC/uSD (default).                                                             |
|         |                           | ON: Booting from eMMC will be stopped and booting will be transferred to RPi boot which is via USB. |
+---------+---------------------------+-----------------------------------------------------------------------------------------------------+
| 2       | USB_C_RPI1                | RPi USB 2.0 port mux control:                                                                       |
|         |                           | OFF: RPi USB is connected to USB hub (default).                                                     |
|         |                           | ON: RPi USB is connected to USB C connector.                                                        |
+---------+---------------------------+-----------------------------------------------------------------------------------------------------+
| 3       | USB_PD_I                  | USB C PD current configuration:                                                                     |
|         |                           | OFF: I=2.5A (default).                                                                              |
|         |                           | ON: I=1.5A.                                                                                         |
+---------+---------------------------+-----------------------------------------------------------------------------------------------------+
| 4       | EN_CM5_USB3               | Dual USB socket source:                                                                             |
|         |                           | OFF: connected to USB 2.0 hub (for CM4).                                                            |
|         |                           | ON: connected to CM5 USB3.0 lines (for CM5).                                                        |
+---------+---------------------------+-----------------------------------------------------------------------------------------------------+

Mini PCIe x1 Socket
-------------------

LimePSB-RPCM board features mini PCIe x1 specification compatible socket. LimePSB-RPCM board mPCIe socket is also compatible with some non-standard expansion boards like LimeSDR-XTRX, LoRaWAN and LoRa Core. More detailed information is listed in Table 7.

.. table:: Table 7 LimePSB-RPCM board Mini PCIe x1 connector pinout

+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| **Pin** | **Mini PCIe x1 Specification | **LimePSB-RPCM          | **XTRX reference [3]** | **LoRaWAN reference [4]** | **SX1302/03 Corecell schematic |
|         | Reference [2]**              | schematic signal name** |                        |                           | signal name [5]**              |
+=========+==============================+=========================+========================+===========================+================================+
| 1       | Wake#                        | NC/RPI_PCIE_DET_nWAKE   | Wake#                  | NC                        | NC                             |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 2       | 3.3 Vaux                     | VCC3P3                  | +3.3V                  | VCC                       | VCC5V_IN                       |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 3       | COEX1                        | PCIE_COEX1              | 1PPSI_GPIO1(1N)        | NC                        | NC                             |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 4       | GND                          | GND                     | GND                    | GND                       | GND                            |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 5       | COEX2                        | PCIE_COEX2              | 1PPSO_GPIO2(1P)        | PPS_IN                    | NC                             |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 6       | GND                          | VCC1P5                  | +1.5V                  | NC                        | GPIO(6) (NC)                   |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 7       | CLKREQ#                      | RPI_PCIE_CLK_nREQ       | CLKREQ#                | NC                        | NC                             |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 8       | UIM PWR                      | UIM_PWR                 | UIM_PWR                | NC                        | NC                             |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 9       | GND                          | GND                     | GND                    | GND                       | GND                            |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 10      | UIM_DATA                     | UIM_DATA                | UIM_DATA               | SWDIO                     | NC                             |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 11      | REFCLK-                      | RPI_PCIE_CLK_N          | REF_CLK-               | NC                        | NC                             |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 12      | UIM_CLK                      | UIM_CLK                 | UIM_CLK                | SWCLK                     | NC                             |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 13      | REFCLK+                      | RPI_PCIE_CLK_P          | REF_CLK+               | NC                        | NC                             |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 14      | UIM_RESET                    | UIM_RESET               | UIM_RESET              | NC                        | NC                             |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 15      | GND                          | GND                     | GND                    | GND                       | GND                            |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 16      | UIM_VPP                      | UIM_VPP                 | UIM_VPP                | BOOT0                     | POWER_EN(NC)                   |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 17      | Reserved                     | PCIE_UIM8               | TDD_GPIO3_N            | NC                        | HOST_SCK (NC)                  |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 18      | GND                          | GND                     | GND                    | GND                       | GND                            |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 19      | Reserved                     | PCIE_UIMC4              | MHZ_IN                 | NC                        | HOST_MISO(NC)                  |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 20      | W_DISABLE#                   | NC                      | TDD_GPIO3_P            | nDISABLE                  | NC                             |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 21      | GND                          | GND                     | GND                    | GND                       | GND                            |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 22      | PERST#                       | RPI_PCIE_nRST           | PERST#                 | nRESET                    | SX1302_RESET_HOST (NC)         |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 23      | PERn0                        | RPI_PCIE_RX_N           | PERn0                  | NC                        | HOST_MOSI(NC)                  |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 24      | 3.3Vaux                      | VCC3P3                  | +3.3Vaux               | VCC                       | SX1261_BUSY (NC)               |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 25      | PERp0                        | RPI_PCIE_RX_P           | PERp0                  | NC                        | HOST_CSN (NC)                  |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 26      | GND                          | GND                     | GND                    | GND                       | GND                            |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 27      | GND                          | GND                     | GND                    | GND                       | GND                            |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 28      | 1.5Volt                      | VCC1P5                  | +1.5V                  | NC                        | SX1302_GPIO_8 (NC)             |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 29      | GND                          | GND                     | GND                    | GND                       | GND                            |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 30      | SMB CLK                      | PCIE_SMB_CLK            | MHZ_OUT                | NC                        | I2C_SCL (NC)                   |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 31      | PETn0                        | PCIE_PET0_N             | PETn0                  | NC                        | PPS                            |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 32      | SMB Data                     | PCIE_SMB_DATA           | GPIO8                  | NC                        | I2C_SDA (NC)                   |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 33      | PETp0                        | PCIE_PET0_P             | PETp0                  | NC                        | NC                             |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 34      | GND                          | GND                     | GND                    | GND                       | GND                            |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 35      | GND                          | GND                     | GND                    | GND                       | GND                            |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 36      | USB_D-                       | PCIE_USB_N              | USB_DN                 | USB_D- / Tx               | USB_DM                         |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 37      | GND                          | GND                     | GND                    | GND                       | GND                            |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 38      | USB_D+                       | PCIE_USB_P              | USB_DP                 | USB_D+ / Rx               | USB_DP                         |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 39      | 3.3Vaux                      | VCC3P3                  | PERp1                  | VCC                       | VCC3V3_IN                      |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 40      | GND                          | GND                     | GND                    | GND                       | GND                            |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 41      | 3.3Vaux                      | VCC3P3                  | PERp1                  | VCC                       | VCC3V3_IN                      |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 42      | LED_WWAN#                    | PCIE_LED_WWAN           | LED_WWAN#_GPIO5        | nTX                       | NC                             |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 43      | GND                          | GND                     | GND                    | GND                       | GND                            |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 44      | LED_WLAN#                    | PCIE_LED_WLAN           | LED_WLAN#_GPIO6        | nRX                       | SX1261_NSS (NC)                |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 45      | Reserved                     | NC                      | GND                    | NC                        | JTCK-SWCLK (NC)                |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 46      | LED_WPAN#                    | PCIE_LED_WPAN           | LED_WPAN#_GPIO7        | NC                        | SX1261_DIO1 (NC)               |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 47      | Reserved                     | NC                      | PETn1                  | NC                        | JTMS-SWDIO (NC)                |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 48      | 1.5Volt                      | VCC1P5                  | +1.5V                  | NC                        | SX1261_NRESET(NC)              |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 49      | Reserved                     | NC                      | PETp1                  | NC                        | MCU_NRESET (NC)                |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 50      | GND                          | GND                     | GND                    | GND                       | GND                            |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 51      | Reserved                     | NC                      | GND                    | NC                        | MCU_BOOT0 (NC)                 |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
| 52      | 3.3Vaux                      | VCC3P3                  | +3.3V                  | VCC                       | VCC3V3_IN                      |
+---------+------------------------------+-------------------------+------------------------+---------------------------+--------------------------------+
